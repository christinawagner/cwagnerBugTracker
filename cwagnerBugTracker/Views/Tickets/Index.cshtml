@model IEnumerable<cwagnerBugTracker.Models.Ticket>

@{
    ViewBag.Title = "Tickets";
}

<div class="card">
    <div class="card-body">
        <h2>Tickets</h2>
        <div class="table-responsive m-t-40">
            <table class="table table-bordered table-striped" id="ticketsTable" cellspacing="0" width="100%">
                @if (User.IsInRole(Domain.Roles.Submitter) || User.IsInRole("Admin"))
                {
                    <p>
                        @Html.ActionLink("Create New", "Create")
                    </p>
                }

                @Html.Action("ListTicketsPartial", new { tickets = Model })
            </table>
        </div>
    </div>
</div>

@section Scripts
{
    <script>
        $(document).ready(function () {
            $('#ticketsTable').DataTable({
                responsive: true
            });
        });
    </script>
}